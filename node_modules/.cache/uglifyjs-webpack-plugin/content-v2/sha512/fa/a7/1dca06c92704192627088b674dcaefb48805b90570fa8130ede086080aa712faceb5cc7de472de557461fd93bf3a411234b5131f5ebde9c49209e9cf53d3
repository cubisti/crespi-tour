{"code":"!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&n&&\"string\"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p=\"\",t(t.s=0)}([function(e,n,t){const o=t(!function(){var e=new Error(\"Cannot find module 'https://cdnjs.cloudflare.com/ajax/libs/three.js/96/three.min.js'\");throw e.code=\"MODULE_NOT_FOUND\",e}());o.GLTF2Loader=t(!function(){var e=new Error(\"Cannot find module 'https://cdn.rawgit.com/mrdoob/three.js/r85/examples/js/loaders/GLTF2Loader.js'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),o.MapControls=t(!function(){var e=new Error(\"Cannot find module 'https://threejs.org/examples/js/controls/MapControls.js'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),o.OrbitControls=t(!function(){var e=new Error(\"Cannot find module 'https://threejs.org/examples/js/controls/OrbitControls.js'\");throw e.code=\"MODULE_NOT_FOUND\",e}());const i=new o.Scene,r=new o.WebGLRenderer({antialias:!0}),a=new o.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),s=new o.MapControls(a,r.domElement),d=new o.OrbitControls(a);var c;d.enabled=!1;var l=new o.Clock;const u=new o.Group,p=new o.Group;function f(){const e=new o.AmbientLight(16777215);i.add(e)}function w(){const e=new o.GLTF2Loader;e.allowCrossOrigin=!0,e.load(\"3d/crespi3d.gltf\",function(e){gltf=e,p.add(gltf.scene),gltf.animations,gltf.scene,gltf.cameras,gltf.asset}),p.layer=\"mapScene\",i.add(p)}function m(){let e;c=[{x:50,y:20,z:0,id:\"uno\",video:\"\"},{x:40,y:20,z:-150,id:\"due\"},{x:-50,y:20,z:-50}];let n={geometry:new o.SphereGeometry(10,2,100),material:new o.MeshNormalMaterial};for(let t=0;t<c.length;t++)(e=new o.Mesh(n.geometry,n.material)).position.x=c[t].x,e.position.y=c[t].y,e.position.z=c[t].z,e.name=c[t].id,e.scale=.5,u.add(e);u.layer=\"mapScene\",i.add(u)}window.addEventListener(\"resize\",g,!1),window.addEventListener(\"click\",b,!1),function e(){s.update(l.getDelta());r.render(i,a);requestAnimationFrame(e)}();var h=new class{constructor(){this.scene=null,function(e){e.background=new o.Color(16777215)}(i),function(e,n){e.target=new o.Vector3(0,0,0),e.position.set(0,40,0),n.add(e)}(a,i),function(e){e.setSize(window.innerWidth,window.innerHeight),e.setPixelRatio(devicePixelRatio),document.body.appendChild(e.domElement)}(r),function(e){e.dampingFactor=.25,e.enableDamping=!0,e.screenSpacePanning=!1,e.minDistance=70,e.maxDistance=100,e.minPolarAngle=Math.PI/8,e.maxPolarAngle=Math.PI/3}(s)}createVideoScene(e,n){this.scene=e,this.video=n,s.enabled=!1;let t={geometry:new o.SphereGeometry(-20,20,20),material:new o.MeshNormalMaterial};var i=new o.Mesh(t.geometry,t.material);i.position.set(a.position.x+5,a.position.y,a.position.z),(void 0).position.set(a.position.x+5,a.position.y,a.position.z),d.enabled=!0,d.target.set(a.position.x+5,a.position.y,a.position.z),d.enablePan=!1,d.enableZoom=!1,this.scene.add(i)}createMapScene(e){this.scene=e,w(),f(),m()}mapOff(){p.visible=!1,u.visible=!1}};function g(){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight)}function b(e){var n=new o.Vector2(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),t=new o.Raycaster;t.setFromCamera(n,a);var r=t.intersectObjects(u.children);1==r.length&&(console.log(r),r[0].object.name==c[0].id&&(h.mapOff(),h.createVideoScene(i)))}h.createMapScene(i)}]);","extractedComments":[]}