{"code":"!function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&n&&\"string\"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p=\"\",t(t.s=0)}([function(e,n){const t=new THREE.Scene,i=new THREE.WebGLRenderer({antialias:!0}),o=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),r=new THREE.MapControls(o,i.domElement),a=new THREE.OrbitControls(o);var c;a.enabled=!1;var l=new THREE.Clock;const d=new THREE.Group,s=new THREE.Group;function u(){const e=new THREE.AmbientLight(16777215);t.add(e)}function p(){const e=new THREE.GLTF2Loader;e.allowCrossOrigin=!0,e.load(\"3d/crespi3d.gltf\",function(e){gltf=e,s.add(gltf.scene),gltf.animations,gltf.scene,gltf.cameras,gltf.asset}),s.layer=\"mapScene\",t.add(s)}function f(){let e;c=[{x:50,y:20,z:0,id:\"uno\",video:\"\"},{x:40,y:20,z:-150,id:\"due\"},{x:-50,y:20,z:-50}];let n={geometry:new THREE.SphereGeometry(10,2,100),material:new THREE.MeshNormalMaterial};for(let t=0;t<c.length;t++)(e=new THREE.Mesh(n.geometry,n.material)).position.x=c[t].x,e.position.y=c[t].y,e.position.z=c[t].z,e.name=c[t].id,e.scale=.5,d.add(e);d.layer=\"mapScene\",t.add(d)}window.addEventListener(\"resize\",m,!1),window.addEventListener(\"click\",E,!1),function e(){r.update(l.getDelta());i.render(t,o);requestAnimationFrame(e)}();var w=new class{constructor(){this.scene=null,function(e){e.background=new THREE.Color(16777215)}(t),function(e,n){e.target=new THREE.Vector3(0,0,0),e.position.set(0,40,0),n.add(e)}(o,t),function(e){e.setSize(window.innerWidth,window.innerHeight),e.setPixelRatio(devicePixelRatio),document.body.appendChild(e.domElement)}(i),function(e){e.dampingFactor=.25,e.enableDamping=!0,e.screenSpacePanning=!1,e.minDistance=70,e.maxDistance=100,e.minPolarAngle=Math.PI/8,e.maxPolarAngle=Math.PI/3}(r)}createVideoScene(e,n){this.scene=e,this.video=n,r.enabled=!1;let t={geometry:new THREE.SphereGeometry(-20,20,20),material:new THREE.MeshNormalMaterial};var i=new THREE.Mesh(t.geometry,t.material);i.position.set(o.position.x+5,o.position.y,o.position.z),(void 0).position.set(o.position.x+5,o.position.y,o.position.z),a.enabled=!0,a.target.set(o.position.x+5,o.position.y,o.position.z),a.enablePan=!1,a.enableZoom=!1,this.scene.add(i)}createMapScene(e){this.scene=e,p(),u(),f()}mapOff(){s.visible=!1,d.visible=!1}};function m(){o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function E(e){var n=new THREE.Vector2(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),i=new THREE.Raycaster;i.setFromCamera(n,o);var r=i.intersectObjects(d.children);1==r.length&&(console.log(r),r[0].object.name==c[0].id&&(w.mapOff(),w.createVideoScene(t)))}w.createMapScene(t)}]);","extractedComments":[]}